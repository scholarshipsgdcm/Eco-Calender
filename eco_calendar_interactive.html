<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Eco Calendar — Government Degree College Mattan</title>
  <style>
    :root{
      --bg:#f7faf6; /* soft cream */
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#2f855a; /* eco green */
      --accent-2:#68d391;
      --glass: rgba(255,255,255,0.7);
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#f0f4f1);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:28px;
    }

    .container{
      max-width:1100px;
      margin:0 auto;
    }

    header{
      display:flex;align-items:center;gap:18px;margin-bottom:20px;
    }
    .brand{display:flex;flex-direction:column}
    .brand h1{margin:0;font-size:20px;letter-spacing:0.2px}
    .brand p{margin:2px 0 0 0;color:var(--muted);font-size:13px}

    .controls{
      display:flex;gap:12px;align-items:center;margin:18px 0 24px;flex-wrap:wrap;
    }
    .search{
      flex:1;min-width:220px;display:flex;align-items:center;background:var(--card);padding:8px 12px;border-radius:10px;box-shadow:var(--shadow);
    }
    .search input{border:0;outline:none;font-size:14px;width:100%;background:transparent}
    .buttons{display:flex;gap:8px}
    button{background:var(--card);border:1px solid rgba(15,23,42,0.06);padding:8px 12px;border-radius:8px;cursor:pointer;box-shadow:var(--shadow)}
    .btn-accent{background:linear-gradient(180deg,var(--accent-2),var(--accent));color:white;border:none}

    .calendar-wrap{display:flex;gap:20px;flex-wrap:wrap}
    .calendar{
      background:var(--card);border-radius:12px;padding:16px;width:100%;box-shadow:var(--shadow);
    }

    .month-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .month-title{font-weight:600}

    .grid{
      display:grid;
      grid-template-columns:repeat(7,1fr);
      gap:8px;
    }
    .weekday{font-size:12px;color:var(--muted);text-align:center;padding:8px 0}

    .day{
      min-height:86px;border-radius:8px;padding:8px;position:relative;background:linear-gradient(180deg,transparent,rgba(15,23,42,0.01));
      transition:transform .12s ease, box-shadow .12s ease;cursor:default;border:1px solid rgba(15,23,42,0.03);
    }
    .day:hover{transform:translateY(-4px)}
    .day.out{opacity:0.35}
    .date-num{position:absolute;top:8px;right:8px;font-size:12px;color:var(--muted)}

    .event-dot{display:inline-block;padding:6px 8px;border-radius:999px;font-size:12px;background:linear-gradient(90deg,var(--accent-2),var(--accent));color:white;margin-top:18px}

    /* highlight today */
    .today{box-shadow:0 8px 28px rgba(46,125,50,0.12);border:2px solid var(--accent-2)}

    /* search-highlight */
    .match{outline:3px solid rgba(102,187,106,0.12);}

    /* tooltip */
    .tooltip{
      position:absolute;left:12px;bottom:12px;background:rgba(0,0,0,0.85);color:white;padding:8px 10px;border-radius:8px;font-size:13px;z-index:40;white-space:nowrap;transform:translateY(6px);opacity:0;pointer-events:none;transition:opacity .12s ease, transform .12s ease
    }
    .day:hover .tooltip{opacity:1;transform:translateY(0)}

    /* results */
    .results{margin-top:12px}
    .result-item{background:linear-gradient(180deg,#fff,#f7fffb);padding:8px;border-radius:8px;margin-bottom:8px;border-left:4px solid var(--accent);display:flex;justify-content:space-between}
    .result-item small{color:var(--muted)}

    @media (max-width:900px){
      .grid{gap:6px}
      .day{min-height:68px}
    }

    @media (max-width:620px){
      .controls{flex-direction:column;align-items:stretch}
      .brand h1{font-size:16px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <h1>Eco Calendar — Government Degree College Mattan</h1>
        <p>Interactive eco-days calendar (hover dates, search events)</p>
      </div>
    </header>

    <div class="controls">
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="margin-right:8px;opacity:0.65"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle></svg>
        <input id="searchInput" placeholder="Search events (e.g. Water, Forest, Soil)..." />
      </div>
      <div class="buttons">
        <button id="prevBtn">◀ Prev</button>
        <button id="nextBtn">Next ▶</button>
        <button id="todayBtn" class="btn-accent">Today</button>
      </div>
    </div>

    <div class="calendar-wrap">
      <div class="calendar">
        <div class="month-header">
          <div class="month-title" id="monthTitle">Month</div>
          <div style="color:var(--muted);font-size:13px">Hover a date to see event details</div>
        </div>

        <div class="grid" id="calendarGrid">
          <!-- Weekday names -->
        </div>

        <div class="results" id="results"></div>
      </div>
    </div>
  </div>

  <script>
    // Event dataset (use month:1-12, day:1-31). You can extend or fetch from a server later.
    const EVENTS = {
      "2-2": [{title: "World Wetland Day", desc: "World Wetland Day"}],
      "3-3": [{title: "World Wildlife Day", desc: "World Wildlife Day"}],
      "3-21": [{title: "World Forest Day", desc: "World Forest Day"}],
      "3-22": [{title: "World Water Day", desc: "World Water Day"}],
      "3-23": [{title: "World Meteorological Day", desc: "World Meteorological Day"}],
      "4-7": [{title: "World Health Day", desc: "World Health Day"}],
      "4-22": [{title: "Earth Day", desc: "Earth Day"}],
      "5-22": [{title: "World Biodiversity Day", desc: "World Biodiversity Day"}],
      "6-5": [{title: "World Environment Day", desc: "World Environment Day"}],
      "7-1": [{title: "Van-mahotsav Day", desc: "Van-mahotsav Day"}],
      "7-11": [{title: "World Population Day", desc: "World Population Day"}],
      "9-16": [{title: "World Ozone Day", desc: "World Ozone Day"}],
      "9-28": [{title: "World Rivers Day", desc: "World Rivers Day"}],
      "10-2": [{title: "Disaster Prevention Day", desc: "Disaster Prevention Day"}],
      "10-10": [{title: "World Mental Health Day", desc: "World Mental Health Day"}],
      // Wildlife week: 2-8 October (mark each day)
      "10-2": [{title: "Disaster Prevention Day", desc: "Disaster Prevention Day"},{title:"Wildlife Week (Day 1)", desc:"Wildlife Week"}],
      "10-3": [{title:"Wildlife Week (Day 2)", desc:"Wildlife Week"}],
      "10-4": [{title:"Wildlife Week (Day 3)", desc:"Wildlife Week"}],
      "10-5": [{title:"Wildlife Week (Day 4)", desc:"Wildlife Week"}],
      "10-6": [{title:"Wildlife Week (Day 5)", desc:"Wildlife Week"}],
      "10-7": [{title:"Wildlife Week (Day 6)", desc:"Wildlife Week"}],
      "10-8": [{title:"Wildlife Week (Day 7)", desc:"Wildlife Week"}],
      "10-16": [{title: "World Food Day", desc: "World Food Day"}],
      "11-24": [{title: "Biodiversity Conservation Day", desc: "Biodiversity Conservation Day"}],
      "12-2": [{title: "Bhopal Tragedy Day", desc: "Bhopal Tragedy Day"}],
      "12-3": [{title: "World Conservation Day", desc: "World Conservation Day"}],
      "12-5": [{title: "World Soil Day", desc: "World Soil Day"}]
    };

    const WEEKDAYS = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

    // state
    let cur = new Date();
    let selectedYear = cur.getFullYear();
    let selectedMonth = cur.getMonth(); // 0-index

    const grid = document.getElementById('calendarGrid');
    const monthTitle = document.getElementById('monthTitle');
    const results = document.getElementById('results');
    const searchInput = document.getElementById('searchInput');

    // create weekday headers
    function createWeekdays(){
      grid.innerHTML = '';
      for(let d of WEEKDAYS){
        const el = document.createElement('div');
        el.className = 'weekday';
        el.textContent = d;
        grid.appendChild(el);
      }
    }

    function daysInMonth(year, month){
      return new Date(year, month+1, 0).getDate();
    }

    function render(){
      createWeekdays();
      monthTitle.textContent = `${cur.toLocaleString(undefined,{month:'long'})} ${selectedYear}`;

      const firstDayOfWeek = new Date(selectedYear, selectedMonth, 1).getDay();
      const totalDays = daysInMonth(selectedYear, selectedMonth);

      // previous and next month days to fill grid
      const prevDays = new Date(selectedYear, selectedMonth, 0).getDate();

      // add blank days from previous month (as 'out')
      for(let i = firstDayOfWeek-1; i >= 0; i--){
        const d = document.createElement('div');
        d.className = 'day out';
        const num = prevDays - i;
        d.innerHTML = `<div class='date-num'>${num}</div>`;
        grid.appendChild(d);
      }

      // add days of current month
      for(let day=1; day<= totalDays; day++){
        const d = document.createElement('div');
        d.className = 'day';
        d.setAttribute('data-day', day);
        d.setAttribute('data-month', selectedMonth+1);
        const dateNum = document.createElement('div');
        dateNum.className = 'date-num';
        dateNum.textContent = day;
        d.appendChild(dateNum);

        // check events
        const key = `${selectedMonth+1}-${day}`;
        if(EVENTS[key]){
          // show the first event short label as a pill
          const pill = document.createElement('div');
          pill.className = 'event-dot';
          pill.textContent = EVENTS[key][0].title;
          d.appendChild(pill);

          // build tooltip (list all events)
          const tip = document.createElement('div');
          tip.className = 'tooltip';
          tip.innerHTML = EVENTS[key].map(e=>`<strong>${e.title}</strong> <div style="font-size:12px;opacity:0.9">${e.desc}</div>`).join('<hr style="border:none;border-top:1px solid rgba(255,255,255,0.06);margin:6px 0">');
          d.appendChild(tip);
        }

        // highlight today
        const today = new Date();
        if(day === today.getDate() && selectedMonth === today.getMonth() && selectedYear === today.getFullYear()){
          d.classList.add('today');
        }

        grid.appendChild(d);
      }

      // fill trailing days to complete the last week
      const totalCells = grid.querySelectorAll('.day, .weekday').length; // weekday + days so far
      const cellsAfterWeekdays = totalCells - WEEKDAYS.length; // actual day cells
      const remainder = cellsAfterWeekdays % 7;
      if(remainder !== 0){
        const need = 7 - remainder;
        for(let i=1;i<=need;i++){
          const d = document.createElement('div');
          d.className = 'day out';
          d.innerHTML = `<div class='date-num'>${i}</div>`;
          grid.appendChild(d);
        }
      }

      attachHoverListeners();
      runSearch(searchInput.value);
    }

    function attachHoverListeners(){
      // nothing special for now; tooltip handled by CSS
    }

    // navigation
    document.getElementById('prevBtn').addEventListener('click', ()=>{
      selectedMonth--;
      if(selectedMonth < 0){selectedMonth = 11; selectedYear--;}
      cur = new Date(selectedYear, selectedMonth, 1);
      render();
    });
    document.getElementById('nextBtn').addEventListener('click', ()=>{
      selectedMonth++;
      if(selectedMonth > 11){selectedMonth = 0; selectedYear++;}
      cur = new Date(selectedYear, selectedMonth, 1);
      render();
    });

    document.getElementById('todayBtn').addEventListener('click', ()=>{
      const t = new Date(); selectedYear = t.getFullYear(); selectedMonth = t.getMonth(); cur = new Date(selectedYear, selectedMonth, 1); render();
    });

    // search
    searchInput.addEventListener('input', (e)=>{
      runSearch(e.target.value);
    });

    function runSearch(q){
      q = (q||'').trim().toLowerCase();
      // clear previous matches
      document.querySelectorAll('.day').forEach(el=>el.classList.remove('match'));
      results.innerHTML = '';
      if(!q) return;

      const matches = [];
      // iterate over EVENTS to find matches
      for(const key in EVENTS){
        const [m,d] = key.split('-').map(Number);
        for(const ev of EVENTS[key]){
          if(ev.title.toLowerCase().includes(q) || (ev.desc||'').toLowerCase().includes(q)){
            matches.push({m,d,ev});
          }
        }
      }

      if(matches.length === 0){
        results.innerHTML = '<div style="color:var(--muted);font-size:13px">No matching events.</div>';
        return;
      }

      // show results list (sorted by month/day)
      matches.sort((a,b)=> (a.m - b.m) || (a.d - b.d));
      for(const item of matches){
        const r = document.createElement('div'); r.className = 'result-item';
        const left = document.createElement('div'); left.innerHTML = `<strong>${item.ev.title}</strong><div style="font-size:12px;color:var(--muted)">${getMonthName(item.m)} ${item.d}</div>`;
        const right = document.createElement('div'); right.innerHTML = `<small>${item.ev.desc}</small>`;
        r.appendChild(left); r.appendChild(right);
        r.addEventListener('click', ()=>{ // navigate to that month and highlight
          selectedMonth = item.m -1; selectedYear = new Date().getFullYear(); // keep current year
          cur = new Date(selectedYear, selectedMonth, 1); render();
          // highlight the day
          setTimeout(()=>{
            const selector = `.day[data-month="${item.m}"][data-day="${item.d}"]`;
            const el = document.querySelector(selector);
            if(el){
              el.scrollIntoView({behavior:'smooth',block:'center'});
              el.classList.add('match');
              setTimeout(()=>el.classList.remove('match'),3500);
            }
          },120);
        });
        results.appendChild(r);
      }

      // highlight matches in calendar if visible
      for(const it of matches){
        if(it.m === selectedMonth+1){
          const el = document.querySelector(`.day[data-day='${it.d}']`);
          if(el) el.classList.add('match');
        }
      }
    }

    function getMonthName(m){
      return new Date(2000, m-1, 1).toLocaleString(undefined,{month:'long'});
    }

    // initialize
    (function init(){
      selectedYear = new Date().getFullYear();
      selectedMonth = new Date().getMonth();
      cur = new Date(selectedYear, selectedMonth, 1);
      render();
    })();

  </script>
</body>
</html>
